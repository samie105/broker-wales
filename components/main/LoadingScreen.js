/* eslint-disable react/no-unescaped-entities */
"use client";
import React, { useState, useEffect } from "react";
import { useTheme } from "../../contexts/themeContext";

export default function LoadingScreen() {
  const [isVisible, setIsVisible] = useState(true);
  const [progress, setProgress] = useState(0);
  const { isDarkMode, baseColor } = useTheme();

  useEffect(() => {
    const interval = setInterval(() => {
      // Increment the progress by a certain amount
      setProgress((prevProgress) => {
        if (prevProgress < 100) {
          return prevProgress + 1.4; // Increase by 10% (adjust as needed)
        } else {
          clearInterval(interval); // Stop the interval when progress reaches 100%
          setIsVisible(false);
          return prevProgress;
        }
      });
    }, 200);
  }, []);

  return isVisible ? (
    <div
      className={`fixed top-0 left-0 z-50 ${
        isDarkMode ? `${baseColor}` : "bg-white"
      } w-full h-full`}
    >
      <section className="section relative w-full h-full">
        {" "}
        <div
          className={`   animate__animated text-xl flex w-full h-full justify-center items-center ${
            progress > 94 ? "animate__slideOutRight" : ""
          }`}
        >
          <div className="progress-cont w-4/6 md:w-1/3">
            <div
              className={`${
                isDarkMode ? "bg-[#11111150]" : "bg-gray-100"
              } progressguauge w-full h-0.5 rounded-full  overflow-hidden transition-all relative`}
            >
              <div
                className="progressbar absolute rounded-full h-full top-0 left-0 transition-all bg-[#cf0000]"
                style={{ width: `${progress}%` }}
              ></div>
            </div>
          </div>
        </div>{" "}
        <div
          className={`header  absolute w-full flex items-center justify-center font-bold pt-4  ${
            progress > 10 ? "top-0 " : "-top-20"
          }`}
        >
          <div
            className={` animate__faster animate__animated ${
              isDarkMode ? "text-white" : "text-black"
            } font-bold text-lg ${
              progress > 10 && progress <= 95 ? "animate__slideInDown" : ""
            } ${progress >= 95 ? "animate__slideOutUp" : ""}`}
          >
            <svg
              width="194"
              height="101"
              viewBox="0 0 194 101"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              {/* <path
                d="M127 55L101.394 65.6787C99.271 66.5596 97.4879 67 96.0451 67C94.4117 67 93.2271 66.4396 92.4911 65.3188C92.0293 64.5989 91.8932 63.6856 92.0828 62.5791C92.2733 61.4726 92.7769 60.2927 93.5936 59.0395C94.2742 58.0254 95.3908 56.6922 96.9434 55.04C96.4161 55.852 96.0298 56.744 95.8001 57.6797C95.3918 59.3861 95.7593 60.6393 96.9026 61.4392C97.4471 61.8125 98.1957 61.9992 99.1485 61.9992C99.9097 61.9992 100.767 61.8792 101.721 61.6392L127 55Z"
                fill="#CF0000"
              /> */}
              <path
                d="M2.02273 63V39.7273H6.94318V49.3295H16.9318V39.7273H21.8409V63H16.9318V53.3864H6.94318V63H2.02273ZM25.8977 63V39.7273H41.3068V43.7841H30.8182V49.3295H40.2841V53.3864H30.8182V63H25.8977Z"
                fill={` ${isDarkMode ? "white" : "#111"}`}
              />
              <path
                d="M67.0227 39.7273H73.0909L79.5 55.3636H79.7727L86.1818 39.7273H92.25V63H87.4773V47.8523H87.2841L81.2614 62.8864H78.0114L71.9886 47.7955H71.7955V63H67.0227V39.7273ZM101.19 63.3295C100.077 63.3295 99.0843 63.1364 98.2131 62.75C97.3419 62.3561 96.6525 61.7765 96.1449 61.0114C95.6449 60.2386 95.3949 59.2765 95.3949 58.125C95.3949 57.1553 95.5729 56.3409 95.929 55.6818C96.285 55.0227 96.7699 54.4924 97.3835 54.0909C97.9972 53.6894 98.6941 53.3864 99.4744 53.1818C100.262 52.9773 101.088 52.8333 101.952 52.75C102.967 52.6439 103.785 52.5455 104.406 52.4545C105.027 52.3561 105.478 52.2121 105.759 52.0227C106.039 51.8333 106.179 51.553 106.179 51.1818V51.1136C106.179 50.3939 105.952 49.8371 105.497 49.4432C105.05 49.0492 104.414 48.8523 103.588 48.8523C102.717 48.8523 102.024 49.0455 101.509 49.4318C100.993 49.8106 100.652 50.2879 100.486 50.8636L96.0085 50.5C96.2358 49.4394 96.6828 48.5227 97.3494 47.75C98.0161 46.9697 98.8759 46.3712 99.929 45.9545C100.99 45.5303 102.217 45.3182 103.611 45.3182C104.58 45.3182 105.509 45.4318 106.395 45.6591C107.289 45.8864 108.08 46.2386 108.77 46.7159C109.467 47.1932 110.016 47.8068 110.418 48.5568C110.819 49.2992 111.02 50.1894 111.02 51.2273V63H106.429V60.5795H106.293C106.012 61.125 105.637 61.6061 105.168 62.0227C104.698 62.4318 104.134 62.7538 103.474 62.9886C102.815 63.2159 102.054 63.3295 101.19 63.3295ZM102.577 59.9886C103.289 59.9886 103.918 59.8485 104.463 59.5682C105.009 59.2803 105.437 58.8939 105.747 58.4091C106.058 57.9242 106.213 57.375 106.213 56.7614V54.9091C106.062 55.0076 105.853 55.0985 105.588 55.1818C105.33 55.2576 105.039 55.3295 104.713 55.3977C104.387 55.4583 104.062 55.5152 103.736 55.5682C103.41 55.6136 103.115 55.6553 102.849 55.6932C102.281 55.7765 101.785 55.9091 101.361 56.0909C100.937 56.2727 100.607 56.5189 100.372 56.8295C100.137 57.1326 100.02 57.5114 100.02 57.9659C100.02 58.625 100.259 59.1288 100.736 59.4773C101.221 59.8182 101.834 59.9886 102.577 59.9886ZM114.776 63V45.5455H119.469V48.5909H119.651C119.969 47.5076 120.503 46.6894 121.253 46.1364C122.003 45.5758 122.866 45.2955 123.844 45.2955C124.086 45.2955 124.348 45.3106 124.628 45.3409C124.908 45.3712 125.154 45.4129 125.366 45.4659V49.7614C125.139 49.6932 124.825 49.6326 124.423 49.5795C124.022 49.5265 123.654 49.5 123.321 49.5C122.609 49.5 121.973 49.6553 121.412 49.9659C120.859 50.2689 120.42 50.6932 120.094 51.2386C119.776 51.7841 119.616 52.4129 119.616 53.125V63H114.776ZM132.256 57.9773L132.267 52.1705H132.972L138.562 45.5455H144.119L136.608 54.3182H135.46L132.256 57.9773ZM127.869 63V39.7273H132.71V63H127.869ZM138.778 63L133.642 55.3977L136.869 51.9773L144.449 63H138.778ZM153.73 63.3409C151.935 63.3409 150.389 62.9773 149.094 62.25C147.806 61.5152 146.813 60.4773 146.116 59.1364C145.42 57.7879 145.071 56.1932 145.071 54.3523C145.071 52.5568 145.42 50.9811 146.116 49.625C146.813 48.2689 147.795 47.2121 149.06 46.4545C150.332 45.697 151.825 45.3182 153.537 45.3182C154.688 45.3182 155.76 45.5038 156.753 45.875C157.753 46.2386 158.624 46.7879 159.366 47.5227C160.116 48.2576 160.7 49.1818 161.116 50.2955C161.533 51.4015 161.741 52.697 161.741 54.1818V55.5114H147.003V52.5114H157.185C157.185 51.8144 157.033 51.197 156.73 50.6591C156.427 50.1212 156.007 49.7008 155.469 49.3977C154.938 49.0871 154.321 48.9318 153.616 48.9318C152.882 48.9318 152.23 49.1023 151.662 49.4432C151.101 49.7765 150.662 50.2273 150.344 50.7955C150.026 51.3561 149.863 51.9811 149.855 52.6705V55.5227C149.855 56.3864 150.014 57.1326 150.332 57.7614C150.658 58.3902 151.116 58.875 151.707 59.2159C152.298 59.5568 152.999 59.7273 153.81 59.7273C154.348 59.7273 154.84 59.6515 155.287 59.5C155.734 59.3485 156.116 59.1212 156.435 58.8182C156.753 58.5152 156.995 58.1439 157.162 57.7045L161.639 58C161.412 59.0758 160.946 60.0152 160.241 60.8182C159.545 61.6136 158.643 62.2348 157.537 62.6818C156.438 63.1212 155.17 63.3409 153.73 63.3409ZM174.185 45.5455V49.1818H163.673V45.5455H174.185ZM166.06 41.3636H170.901V57.6364C170.901 58.0833 170.969 58.4318 171.105 58.6818C171.241 58.9242 171.431 59.0947 171.673 59.1932C171.923 59.2917 172.211 59.3409 172.537 59.3409C172.764 59.3409 172.991 59.322 173.219 59.2841C173.446 59.2386 173.62 59.2045 173.741 59.1818L174.503 62.7841C174.26 62.8598 173.92 62.947 173.48 63.0455C173.041 63.1515 172.507 63.2159 171.878 63.2386C170.711 63.2841 169.688 63.1288 168.81 62.7727C167.938 62.4167 167.26 61.8636 166.776 61.1136C166.291 60.3636 166.052 59.4167 166.06 58.2727V41.3636ZM191.642 50.5227L187.21 50.7955C187.134 50.4167 186.972 50.0758 186.722 49.7727C186.472 49.4621 186.142 49.2159 185.733 49.0341C185.331 48.8447 184.85 48.75 184.29 48.75C183.54 48.75 182.907 48.9091 182.392 49.2273C181.877 49.5379 181.619 49.9545 181.619 50.4773C181.619 50.8939 181.786 51.2462 182.119 51.5341C182.453 51.822 183.025 52.053 183.835 52.2273L186.994 52.8636C188.691 53.2121 189.956 53.7727 190.79 54.5455C191.623 55.3182 192.04 56.3333 192.04 57.5909C192.04 58.7348 191.703 59.7386 191.028 60.6023C190.362 61.4659 189.445 62.1402 188.278 62.625C187.119 63.1023 185.782 63.3409 184.267 63.3409C181.956 63.3409 180.116 62.8598 178.744 61.8977C177.381 60.928 176.581 59.6098 176.347 57.9432L181.108 57.6932C181.252 58.3977 181.6 58.9356 182.153 59.3068C182.706 59.6705 183.415 59.8523 184.278 59.8523C185.127 59.8523 185.809 59.6894 186.324 59.3636C186.847 59.0303 187.112 58.6023 187.119 58.0795C187.112 57.6402 186.926 57.2803 186.562 57C186.199 56.7121 185.638 56.4924 184.881 56.3409L181.858 55.7386C180.153 55.3977 178.884 54.8068 178.051 53.9659C177.225 53.125 176.812 52.053 176.812 50.75C176.812 49.6288 177.116 48.6629 177.722 47.8523C178.335 47.0417 179.195 46.4167 180.301 45.9773C181.415 45.5379 182.718 45.3182 184.21 45.3182C186.415 45.3182 188.15 45.7841 189.415 46.7159C190.688 47.6477 191.43 48.9167 191.642 50.5227Z"
                fill={` ${isDarkMode ? "white" : "#111"}`}
              />
              <path
                d="M72.168 66.7092C71.8985 67.1807 71.455 67.7439 70.8376 68.3987C70.2725 69.0835 69.6288 69.7233 68.9065 70.3183C68.1955 70.9544 67.447 71.5344 66.6611 72.0582C65.9276 72.612 65.2989 72.9825 64.775 73.1695C64.2399 73.3154 63.7104 73.2387 63.1865 72.9393C62.6627 72.6399 61.9723 71.811 61.1154 70.4525C60.2698 69.1353 59.1622 67.1818 57.7928 64.5922C56.4533 61.9502 54.6797 58.3651 52.4722 53.837C50.788 56.9055 49.2461 59.8467 47.8464 62.6606C46.4466 65.4746 45.2902 68.0454 44.3769 70.3729C43.4637 72.7005 42.7919 74.6968 42.3615 76.3621C41.931 78.0273 41.8168 79.2304 42.0188 79.9713C41.5136 80.0648 40.9486 80.0199 40.3237 79.8365C39.7399 79.6419 39.1805 79.3743 38.6454 79.0337C38.1103 78.6931 37.6257 78.2946 37.1916 77.838C36.7987 77.3702 36.5349 76.8893 36.4003 76.3954C36.4003 75.9089 36.5351 75.1867 36.8045 74.2287C37.074 73.2708 37.4502 72.2174 37.933 71.0686C38.9472 68.625 40.536 65.6932 42.6991 62.273C44.8922 58.8005 47.6092 54.8976 50.8501 50.5644C44.5492 37.998 38.9495 32.3827 34.051 33.7183C34.2194 32.3898 34.7153 31.1269 35.5387 29.9295C36.4032 28.7208 37.4248 27.8452 38.6036 27.3027C39.962 26.9323 41.124 26.8145 42.0894 26.9493C43.0437 27.0429 44.0615 27.6941 45.1429 28.9029C46.2243 30.1116 47.5021 32.0408 48.9763 34.6903C50.4393 37.2986 52.3738 40.9061 54.7797 45.5128C55.7452 43.7017 56.6435 41.8868 57.4743 40.0682C58.3351 38.1972 59.1099 36.416 59.7985 34.7246C60.4872 33.0332 61.0804 31.4784 61.5782 30.0602C62.076 28.642 62.4334 27.4389 62.6505 26.451C62.8901 25.5454 62.8976 24.681 62.6731 23.8577C62.4711 23.1167 61.9809 22.2111 61.2026 21.1408C62.7331 21.5638 63.9231 22.0354 64.7725 22.5556C65.6519 23.0234 66.5013 23.7868 67.3208 24.8459C67.5078 25.8563 67.489 26.9228 67.2644 28.0454C67.081 29.1568 66.5832 30.575 65.7711 32.3001C64.9889 33.9728 63.8437 36.0982 62.3354 38.6764C60.8272 41.2547 58.8156 44.5008 56.3007 48.4149C58.0929 51.9064 59.7075 54.8273 61.1443 57.1774C62.5811 59.5275 63.9151 61.4192 65.1461 62.8526C66.366 64.2447 67.5466 65.2495 68.6879 65.867C69.818 66.4434 70.978 66.7241 72.168 66.7092Z"
                fill="#CF0000"
              />
            </svg>
          </div>
        </div>
        <div
          className={`messages absolute w-full flex items-center justify-center pb-4 ${
            progress > 10 ? "bottom-0" : "-bottom-20"
          }`}
        >
          {progress <= 40 && (
            <div
              className={`text-sm md:text-base rounded-full animate__faster animate__animated py-3 px-4 font-bold ${
                isDarkMode
                  ? `bg-[#111] text-white shadw-[0px_2px_20px_10px_#f7fafc09]`
                  : "bg-white shadow-[0px_0px_15px_10px_#00000009]"
              }  ${
                progress > 10 && progress <= 35 ? "animate__slideInUp" : ""
              } ${progress >= 35 ? "animate__slideOutDown" : ""}`}
            >
              HeyðŸ‘‹ Nice seeing you
            </div>
          )}
          {progress > 40 && progress <= 85 && (
            <div
              className={`text-sm md:text-base rounded-full animate__faster animate__animated py-3 px-4 font-bold ${
                isDarkMode
                  ? `bg-[#111] text-white shadw-[0px_2px_20px_10px_#f7fafc09]`
                  : "bg-white shadow-[0px_0px_15px_10px_#00000009]"
              }  ${
                progress > 40 && progress <= 82 ? "animate__slideInUp" : ""
              } ${progress >= 82 ? "animate__slideOutDown" : ""}`}
            >
              <div className="flex items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  className="w-5 h-5 animate-spin mr-2"
                >
                  <path
                    fillRule="evenodd"
                    d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z"
                    clipRule="evenodd"
                  />
                </svg>

                <div className="div">Setting up the page...</div>
              </div>
            </div>
          )}
          {progress > 85 && (
            <div
              className={`text-sm md:text-base flex items-center rounded-full animate__faster animate__animated py-3 px-4 font-bold ${
                isDarkMode
                  ? `bg-[#111] text-white shadw-[0px_2px_20px_10px_#f7fafc09]`
                  : "bg-white shadow-[0px_0px_15px_10px_#00000009]"
              }  ${
                progress > 85 && progress <= 95 ? "animate__slideInUp" : ""
              }${progress >= 95 ? "animate__slideOutDown" : ""}`}
            >
              <div className="icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  className="w-5 h-5 mr-2 text-green-500"
                >
                  <path
                    fillRule="evenodd"
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
                    clipRule="evenodd"
                  />
                </svg>
              </div>
              <div className="message"> Your page is ready</div>
            </div>
          )}
        </div>
      </section>{" "}
    </div>
  ) : null;
}
